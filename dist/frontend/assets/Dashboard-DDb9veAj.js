import{g as Ue,r as o,u as He,j as f}from"./index-Cmzhr2PI.js";import{f as ie}from"./currency-DGtur7pf.js";import{r as Se,u as Ee,c as Ie,f as ee,g as Je,J as De,i as I,L as $,S as Ze,a as qe,R as Qe,b as ae,s as et,m as tt,d as rt,e as se,h as Q,j as Be,k as at,l as nt,n as it,o as st,p as ot,q as Ce,t as lt,v as ct,w as ut,x as H,y as dt,G as vt,z as Ne,A as ft,B as pt,C as mt,D as oe,E as _e,F as Re,H as ht,I as gt,K as yt,M as bt,N as xt,O as le,P as C,Q as Ot,T as Pt,U as R,V as T,W as F,X as jt,Y as Te,Z as Fe,_ as Ke,$ as kt,a0 as wt,a1 as ce,a2 as At,a3 as St,a4 as ue,a5 as Et,a6 as te,a7 as de,a8 as It,a9 as Dt,aa as ve,ab as Bt,ac as fe,ad as pe,ae as me,af as he,ag as ge,ah as Ct}from"./LineChart-Hj8hp8Mf.js";var Le=e=>null;Le.displayName="Cell";var Me={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const n=r[Symbol.toStringTag];return n==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${n}]`}let a=r;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(r)===a}e.isPlainObject=t})(Me);var Nt=Me.isPlainObject;const _t=Ue(Nt);function ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function be(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ye(Object(r),!0).forEach(function(a){Rt(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ye(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Rt(e,t,r){return(t=Tt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tt(e){var t=Ft(e,"string");return typeof t=="symbol"?t:t+""}function Ft(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J(){return J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},J.apply(null,arguments)}var xe=(e,t,r,a,i)=>{var n=r-a,s;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+r,",").concat(t),s+="L ".concat(e+r-n/2,",").concat(t+i),s+="L ".concat(e+r-n/2-a,",").concat(t+i),s+="L ".concat(e,",").concat(t," Z"),s},Kt={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Lt=e=>{var t=Se(e,Kt),{x:r,y:a,upperWidth:i,lowerWidth:n,height:s,className:l}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:v}=t,m=o.useRef(),[y,O]=o.useState(-1),h=o.useRef(i),p=o.useRef(n),g=o.useRef(s),x=o.useRef(r),j=o.useRef(a),b=Ee(e,"trapezoid-");if(o.useEffect(()=>{if(m.current&&m.current.getTotalLength)try{var E=m.current.getTotalLength();E&&O(E)}catch{}},[]),r!==+r||a!==+a||i!==+i||n!==+n||s!==+s||i===0&&n===0||s===0)return null;var w=Ie("recharts-trapezoid",l);if(!v)return o.createElement("g",null,o.createElement("path",J({},ee(t,!0),{className:w,d:xe(r,a,i,n,s)})));var P=h.current,k=p.current,A=g.current,K=x.current,D=j.current,L="0px ".concat(y===-1?1:y,"px"),V="".concat(y,"px 0px"),N=Je(["strokeDasharray"],u,c);return o.createElement(De,{animationId:b,key:b,canBegin:y>0,duration:u,easing:c,isActive:v,begin:d},E=>{var _=I(P,i,E),M=I(k,n,E),G=I(A,s,E),X=I(K,r,E),Y=I(D,a,E);m.current&&(h.current=_,p.current=M,g.current=G,x.current=X,j.current=Y);var Ye=E>0?{transition:N,strokeDasharray:V}:{strokeDasharray:L};return o.createElement("path",J({},ee(t,!0),{className:w,d:xe(X,Y,_,M,G),ref:m,style:be(be({},Ye),t.style)}))})},Mt=["option","shapeType","propTransformer","activeClassName","isActive"];function zt(e,t){if(e==null)return{};var r,a,i=$t(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function $t(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Oe(Object(r),!0).forEach(function(a){Wt(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oe(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Wt(e,t,r){return(t=Vt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vt(e){var t=Gt(e,"string");return typeof t=="symbol"?t:t+""}function Gt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xt(e,t){return Z(Z({},t),e)}function Yt(e,t){return e==="symbols"}function Pe(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return o.createElement(Qe,r);case"trapezoid":return o.createElement(Lt,r);case"sector":return o.createElement(qe,r);case"symbols":if(Yt(t))return o.createElement(Ze,r);break;default:return null}}function Ut(e){return o.isValidElement(e)?e.props:e}function Ht(e){var{option:t,shapeType:r,propTransformer:a=Xt,activeClassName:i="recharts-active-shape",isActive:n}=e,s=zt(e,Mt),l;if(o.isValidElement(t))l=o.cloneElement(t,Z(Z({},s),Ut(t)));else if(typeof t=="function")l=t(s);else if(_t(t)&&typeof t!="boolean"){var c=a(t,s);l=o.createElement(Pe,{shapeType:r,elementProps:c})}else{var u=s;l=o.createElement(Pe,{shapeType:r,elementProps:u})}return n?o.createElement($,{className:i},l):l}var ze=(e,t)=>{var r=ae();return(a,i)=>n=>{e==null||e(a,i,n),r(et({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition}))}},$e=e=>{var t=ae();return(r,a)=>i=>{e==null||e(r,a,i),t(tt())}},We=(e,t)=>{var r=ae();return(a,i)=>n=>{e==null||e(a,i,n),r(rt({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition}))}},Jt="Invariant failed";function Zt(e,t){throw new Error(Jt)}var qt=["x","y"];function re(){return re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},re.apply(null,arguments)}function je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?je(Object(r),!0).forEach(function(a){Qt(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):je(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Qt(e,t,r){return(t=er(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function er(e){var t=tr(e,"string");return typeof t=="symbol"?t:t+""}function tr(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rr(e,t){if(e==null)return{};var r,a,i=ar(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ar(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function nr(e,t){var{x:r,y:a}=e,i=rr(e,qt),n="".concat(r),s=parseInt(n,10),l="".concat(a),c=parseInt(l,10),u="".concat(t.height||i.height),d=parseInt(u,10),v="".concat(t.width||i.width),m=parseInt(v,10);return z(z(z(z(z({},t),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:d,width:m,name:t.name,radius:t.radius})}function ne(e){return o.createElement(Ht,re({shapeType:"rectangle",propTransformer:nr,activeClassName:"recharts-active-bar"},e))}var ir=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(a,i)=>{if(se(t))return t;var n=se(a)||Q(a);return n?t(a,i):(n||Zt(),r)}},sr=["onMouseEnter","onMouseLeave","onClick"],or=["value","background","tooltipPosition"],lr=["id"],cr=["onMouseEnter","onClick","onMouseLeave"];function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},B.apply(null,arguments)}function ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ke(Object(r),!0).forEach(function(a){ur(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ke(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ur(e,t,r){return(t=dr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dr(e){var t=vr(e,"string");return typeof t=="symbol"?t:t+""}function vr(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q(e,t){if(e==null)return{};var r,a,i=fr(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function fr(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var pr=e=>{var{dataKey:t,name:r,fill:a,legendType:i,hide:n}=e;return[{inactive:n,dataKey:t,type:i,color:a,value:Ce(r,t),payload:e}]};function mr(e){var{dataKey:t,stroke:r,strokeWidth:a,fill:i,name:n,hide:s,unit:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:Ce(n,t),hide:s,type:e.tooltipType,color:e.fill,unit:l}}}function hr(e){var t=H(_e),{data:r,dataKey:a,background:i,allOtherBarProps:n}=e,{onMouseEnter:s,onMouseLeave:l,onClick:c}=n,u=q(n,sr),d=ze(s,a),v=$e(l),m=We(c,a);if(!i||r==null)return null;var y=ee(i,!1);return o.createElement(o.Fragment,null,r.map((O,h)=>{var{value:p,background:g,tooltipPosition:x}=O,j=q(O,or);if(!g)return null;var b=d(O,h),w=v(O,h),P=m(O,h),k=S(S(S(S(S({option:i,isActive:String(h)===t},j),{},{fill:"#eee"},g),y),Re(u,O,h)),{},{onMouseEnter:b,onMouseLeave:w,onClick:P,dataKey:a,index:h,className:"recharts-bar-background-rectangle"});return o.createElement(ne,B({key:"background-bar-".concat(h)},k))}))}function gr(e){var{showLabels:t,children:r,rects:a}=e,i=a==null?void 0:a.map(n=>{var s={x:n.x,y:n.y,width:n.width,height:n.height};return S(S({},s),{},{value:n.value,payload:n.payload,parentViewBox:n.parentViewBox,viewBox:s,fill:n.fill})});return o.createElement(gt,{value:t?i:void 0},r)}function yr(e){var{shape:t,activeBar:r,baseProps:a,entry:i,index:n,dataKey:s}=e,l=H(_e),c=H(bt),u=r&&String(n)===l&&(c==null||s===c),d=u?r:t;return o.createElement(ne,B({},a,i,{isActive:u,option:d,index:n,dataKey:s}))}function br(e){var{shape:t,baseProps:r,entry:a,index:i,dataKey:n}=e;return o.createElement(ne,B({},r,a,{isActive:!1,option:t,index:i,dataKey:n}))}function xr(e){var{data:t,props:r}=e,a=yt(r),{id:i}=a,n=q(a,lr),{shape:s,dataKey:l,activeBar:c}=r,{onMouseEnter:u,onClick:d,onMouseLeave:v}=r,m=q(r,cr),y=ze(u,l),O=$e(v),h=We(d,l);return t?o.createElement(o.Fragment,null,t.map((p,g)=>o.createElement($,B({className:"recharts-bar-rectangle"},Re(m,p,g),{onMouseEnter:y(p,g),onMouseLeave:O(p,g),onClick:h(p,g),key:"rectangle-".concat(p==null?void 0:p.x,"-").concat(p==null?void 0:p.y,"-").concat(p==null?void 0:p.value,"-").concat(g)}),c?o.createElement(yr,{shape:s,activeBar:c,baseProps:n,entry:p,index:g,dataKey:l}):o.createElement(br,{shape:s,baseProps:n,entry:p,index:g,dataKey:l})))):null}function Or(e){var{props:t,previousRectanglesRef:r}=e,{data:a,layout:i,isAnimationActive:n,animationBegin:s,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,v=r.current,m=Ee(t,"recharts-bar-"),[y,O]=o.useState(!1),h=!y,p=o.useCallback(()=>{typeof u=="function"&&u(),O(!1)},[u]),g=o.useCallback(()=>{typeof d=="function"&&d(),O(!0)},[d]);return o.createElement(gr,{showLabels:h,rects:a},o.createElement(De,{animationId:m,begin:s,duration:l,isActive:n,easing:c,onAnimationEnd:p,onAnimationStart:g,key:m},x=>{var j=x===1?a:a==null?void 0:a.map((b,w)=>{var P=v&&v[w];if(P)return S(S({},b),{},{x:I(P.x,b.x,x),y:I(P.y,b.y,x),width:I(P.width,b.width,x),height:I(P.height,b.height,x)});if(i==="horizontal"){var k=I(0,b.height,x);return S(S({},b),{},{y:b.y+b.height-k,height:k})}var A=I(0,b.width,x);return S(S({},b),{},{width:A})});return x>0&&(r.current=j??null),j==null?null:o.createElement($,null,o.createElement(xr,{props:t,data:j}))}),o.createElement(ht,{label:t.label}),t.children)}function Pr(e){var t=o.useRef(null);return o.createElement(Or,{previousRectanglesRef:t,props:e})}var Ve=0,jr=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Ne(e,t)}};class kr extends o.PureComponent{render(){var{hide:t,data:r,dataKey:a,className:i,xAxisId:n,yAxisId:s,needClip:l,background:c,id:u}=this.props;if(t||r==null)return null;var d=Ie("recharts-bar",i),v=u;return o.createElement($,{className:d,id:u},l&&o.createElement("defs",null,o.createElement(ft,{clipPathId:v,xAxisId:n,yAxisId:s})),o.createElement($,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(v,")"):void 0},o.createElement(hr,{data:r,dataKey:a,background:c,allOtherBarProps:this.props}),o.createElement(Pr,this.props)))}}var wr={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!vt.isSsr,legendType:"rect",minPointSize:Ve,xAxisId:0,yAxisId:0};function Ar(e){var{xAxisId:t,yAxisId:r,hide:a,legendType:i,minPointSize:n,activeBar:s,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:v}=lt(t,r),m=ct(),y=Be(),O=ut(e.children,Le),h=H(x=>Qr(x,t,r,y,e.id,O));if(m!=="vertical"&&m!=="horizontal")return null;var p,g=h==null?void 0:h[0];return g==null||g.height==null||g.width==null?p=0:p=m==="vertical"?g.height/2:g.width/2,o.createElement(dt,{xAxisId:t,yAxisId:r,data:h,dataPointFormatter:jr,errorBarOffset:p},o.createElement(kr,B({},e,{layout:m,needClip:v,data:h,xAxisId:t,yAxisId:r,hide:a,legendType:i,minPointSize:n,activeBar:s,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function Sr(e){var{layout:t,barSettings:{dataKey:r,minPointSize:a},pos:i,bandSize:n,xAxis:s,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:v,offset:m,cells:y,parentViewBox:O}=e,h=t==="horizontal"?l:s,p=d?h.scale.domain():null,g=pt({numericAxis:h});return v.map((x,j)=>{var b,w,P,k,A,K;d?b=mt(d[j],p):(b=Ne(x,r),Array.isArray(b)||(b=[g,b]));var D=ir(a,Ve)(b[1],j);if(t==="horizontal"){var L,[V,N]=[l.scale(b[0]),l.scale(b[1])];w=oe({axis:s,ticks:c,bandSize:n,offset:i.offset,entry:x,index:j}),P=(L=N??V)!==null&&L!==void 0?L:void 0,k=i.size;var E=V-N;if(A=xt(E)?0:E,K={x:w,y:m.top,width:k,height:m.height},Math.abs(D)>0&&Math.abs(A)<Math.abs(D)){var _=le(A||D)*(Math.abs(D)-Math.abs(A));P-=_,A+=_}}else{var[M,G]=[s.scale(b[0]),s.scale(b[1])];if(w=M,P=oe({axis:l,ticks:u,bandSize:n,offset:i.offset,entry:x,index:j}),k=G-M,A=i.size,K={x:m.left,y:P,width:m.width,height:A},Math.abs(D)>0&&Math.abs(k)<Math.abs(D)){var X=le(k||D)*(Math.abs(D)-Math.abs(k));k+=X}}if(w==null||P==null||k==null||A==null)return null;var Y=S(S({},x),{},{x:w,y:P,width:k,height:A,value:d?b:b[1],payload:x,background:K,tooltipPosition:{x:w+k/2,y:P+A/2},parentViewBox:O},y&&y[j]&&y[j].props);return Y}).filter(Boolean)}function Ge(e){var t=Se(e,wr),r=Be();return o.createElement(at,{id:t.id,type:"bar"},a=>o.createElement(o.Fragment,null,o.createElement(nt,{legendPayload:pr(t)}),o.createElement(it,{fn:mr,args:t}),o.createElement(st,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:ot(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),o.createElement(Ar,B({},t,{id:a}))))}Ge.displayName="Bar";function we(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?we(Object(r),!0).forEach(function(a){Er(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):we(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Er(e,t,r){return(t=Ir(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ir(e){var t=Dr(e,"string");return typeof t=="symbol"?t:t+""}function Dr(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Br=(e,t)=>t,Cr=(e,t,r)=>r,Nr=(e,t,r,a)=>a,_r=(e,t,r,a,i)=>i,W=C([Fe,_r],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Rr=C([W],e=>e==null?void 0:e.maxBarSize),Tr=(e,t,r,a,i,n)=>n,Ae=(e,t,r)=>{var a=r??e;if(!Q(a))return te(a,t,0)},Fr=C([F,Fe,Br,Cr,Nr],(e,t,r,a,i)=>t.filter(n=>e==="horizontal"?n.xAxisId===r:n.yAxisId===a).filter(n=>n.isPanorama===i).filter(n=>n.hide===!1).filter(n=>n.type==="bar")),Kr=(e,t,r,a)=>{var i=F(e);return i==="horizontal"?ce(e,"yAxis",r,a):ce(e,"xAxis",t,a)},Lr=(e,t,r)=>{var a=F(e);return a==="horizontal"?ue(e,"xAxis",t):ue(e,"yAxis",r)},Mr=(e,t,r)=>{var a={},i=e.filter(Et),n=e.filter(u=>u.stackId==null),s=i.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),a),l=Object.entries(s).map(u=>{var[d,v]=u,m=v.map(O=>O.dataKey),y=Ae(t,r,v[0].barSize);return{stackId:d,dataKeys:m,barSize:y}}),c=n.map(u=>{var d=[u.dataKey].filter(m=>m!=null),v=Ae(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:v}});return[...l,...c]},zr=C([Fr,St,Lr],Mr),$r=(e,t,r,a,i)=>{var n,s,l=W(e,t,r,a,i);if(l!=null){var c=F(e),u=Ke(e),{maxBarSize:d}=l,v=Q(d)?u:d,m,y;return c==="horizontal"?(m=R(e,"xAxis",t,a),y=T(e,"xAxis",t,a)):(m=R(e,"yAxis",r,a),y=T(e,"yAxis",r,a)),(n=(s=Te(m,y,!0))!==null&&s!==void 0?s:v)!==null&&n!==void 0?n:0}},Xe=(e,t,r,a)=>{var i=F(e),n,s;return i==="horizontal"?(n=R(e,"xAxis",t,a),s=T(e,"xAxis",t,a)):(n=R(e,"yAxis",r,a),s=T(e,"yAxis",r,a)),Te(n,s)};function Wr(e,t,r,a,i){var n=a.length;if(!(n<1)){var s=te(e,r,0,!0),l,c=[];if(de(a[0].barSize)){var u=!1,d=r/n,v=a.reduce((g,x)=>g+(x.barSize||0),0);v+=(n-1)*s,v>=r&&(v-=(n-1)*s,s=0),v>=r&&d>0&&(u=!0,d*=.9,v=n*d);var m=(r-v)/2>>0,y={offset:m-s,size:0};l=a.reduce((g,x)=>{var j,b={stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:y.offset+y.size+s,size:u?d:(j=x.barSize)!==null&&j!==void 0?j:0}},w=[...g,b];return y=w[w.length-1].position,w},c)}else{var O=te(t,r,0,!0);r-2*O-(n-1)*s<=0&&(s=0);var h=(r-2*O-(n-1)*s)/n;h>1&&(h>>=0);var p=de(i)?Math.min(h,i):h;l=a.reduce((g,x,j)=>[...g,{stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:O+(h+s)*j+(h-p)/2,size:p}}],c)}return l}}var Vr=(e,t,r,a,i,n,s)=>{var l=Q(s)?t:s,c=Wr(r,a,i!==n?i:n,e,l);return i!==n&&c!=null&&(c=c.map(u=>U(U({},u),{},{position:U(U({},u.position),{},{offset:u.position.offset-i/2})}))),c},Gr=C([zr,Ke,kt,wt,$r,Xe,Rr],Vr),Xr=(e,t,r,a)=>R(e,"xAxis",t,a),Yr=(e,t,r,a)=>R(e,"yAxis",r,a),Ur=(e,t,r,a)=>T(e,"xAxis",t,a),Hr=(e,t,r,a)=>T(e,"yAxis",r,a),Jr=C([Gr,W],(e,t)=>{if(!(e==null||t==null)){var r=e.find(a=>a.stackId===t.stackId&&t.dataKey!=null&&a.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),Zr=(e,t)=>{var r=At(t);if(!(!e||r==null||t==null)){var{stackId:a}=t;if(a!=null){var i=e[a];if(i){var{stackedData:n}=i;if(n)return n.find(s=>s.key===r)}}}},qr=C([Kr,W],Zr),Qr=C([Ot,Pt,Xr,Yr,Ur,Hr,Jr,F,jt,Xe,qr,W,Tr],(e,t,r,a,i,n,s,l,c,u,d,v,m)=>{var{chartData:y,dataStartIndex:O,dataEndIndex:h}=c;if(!(v==null||s==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||a==null||i==null||n==null||u==null)){var{data:p}=v,g;if(p!=null&&p.length>0?g=p:g=y==null?void 0:y.slice(O,h+1),g!=null)return Sr({layout:l,barSettings:v,pos:s,parentViewBox:t,bandSize:u,xAxis:r,yAxis:a,xAxisTicks:i,yAxisTicks:n,stackedData:d,displayedData:g,offset:e,cells:m})}}),ea=["axis","item"],ta=o.forwardRef((e,t)=>o.createElement(It,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ea,tooltipPayloadSearcher:Dt,categoricalChartProps:e,ref:t}));const ia=o.memo(function(){const[t,r]=o.useState([]),[a,i]=o.useState({todayOrders:0,todayRevenue:0,pendingOrders:0,lowStockProducts:0,totalOrders:0,totalRevenue:0}),[n,s]=o.useState(!0),[l]=o.useState("All"),{isDarkMode:c}=He(),u=o.useCallback(async()=>{try{const v=await fetch("/api/reports?type=monthly",{credentials:"include"});if(v.ok){const h=(await v.json()).data.map(p=>({name:p.date,sales:p.sales,revenue:p.revenue,channel:"All"}));r(h)}const m=await fetch("/api/orders",{credentials:"include"}),y=await fetch("/api/inventory/low-stock",{credentials:"include"});if(m.ok){const h=(await m.json()).orders||[],p=new Date().toISOString().split("T")[0],g=h.filter(P=>{var k,A;return((k=P.order_date)==null?void 0:k.startsWith(p))||((A=P.created_at)==null?void 0:A.startsWith(p))}),x=h.filter(P=>P.status==="pending"),j=h.reduce((P,k)=>P+(parseFloat(k.total_amount)||0),0),b=g.reduce((P,k)=>P+(parseFloat(k.total_amount)||0),0);let w=0;y.ok&&(w=(await y.json()).length||0),i({todayOrders:g.length,todayRevenue:b,pendingOrders:x.length,lowStockProducts:w,totalOrders:h.length,totalRevenue:j})}}catch(v){console.error("Failed to load dashboard data:",v)}finally{s(!1)}},[]);o.useEffect(()=>{u()},[u]);const d=o.useMemo(()=>l==="All"?t:t.filter(v=>v.channel===l),[l,t]);return f.jsxs("div",{className:`p-4 sm:p-6 md:p-8 min-h-screen ${c?"bg-gray-900 text-white":"bg-light-pink text-gray-900"}`,children:[f.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 sm:mb-8",children:f.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-4 sm:mb-0 text-gray-900 dark:text-white",children:"Dashboard"})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[f.jsxs("div",{className:"bg-light-pink-100 dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[f.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Today's Orders"}),f.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:n?"...":a.todayOrders})]}),f.jsxs("div",{className:"bg-light-pink-100 dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[f.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Today's Revenue"}),f.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:n?"...":ie(a.todayRevenue)})]}),f.jsxs("div",{className:"bg-light-pink-100 dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[f.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Pending Orders"}),f.jsx("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:n?"...":a.pendingOrders})]}),f.jsxs("div",{className:"bg-light-pink-100 dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[f.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Low Stock Items"}),f.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:n?"...":a.lowStockProducts})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6 sm:gap-8",children:[f.jsxs("div",{className:"bg-light-pink-100 dark:bg-gray-800 p-4 sm:p-6 rounded-lg shadow-md",children:[f.jsx("h2",{className:"text-lg sm:text-xl font-semibold mb-4",children:"Monthly Sales Performance"}),n?f.jsx("div",{className:"flex justify-center items-center h-64",children:f.jsx("div",{className:"text-lg",children:"Loading chart data..."})}):d.length===0?f.jsx("div",{className:"flex justify-center items-center h-64",children:f.jsx("div",{className:"text-lg text-gray-500",children:"No sales data available"})}):f.jsx(ve,{width:"100%",height:300,children:f.jsxs(Bt,{data:d,children:[f.jsx(fe,{strokeDasharray:"3 3",stroke:c?"#4B5563":"#E5E7EB"}),f.jsx(pe,{dataKey:"name",stroke:c?"#D1D5DB":"#4B5563"}),f.jsx(me,{stroke:c?"#D1D5DB":"#4B5563"}),f.jsx(he,{contentStyle:{backgroundColor:c?"#374151":"#FFFFFF",border:"none"},itemStyle:{color:c?"#FFFFFF":"#1F2937"}}),f.jsx(ge,{}),f.jsx(Ct,{type:"monotone",dataKey:"sales",stroke:c?"#818CF8":"#8884d8",activeDot:{r:8}})]})})]}),f.jsxs("div",{className:"bg-light-pink-100 dark:bg-gray-800 p-4 sm:p-6 rounded-lg shadow-md",children:[f.jsx("h2",{className:"text-lg sm:text-xl font-semibold mb-4",children:"Monthly Revenue Breakdown"}),n?f.jsx("div",{className:"flex justify-center items-center h-64",children:f.jsx("div",{className:"text-lg",children:"Loading chart data..."})}):d.length===0?f.jsx("div",{className:"flex justify-center items-center h-64",children:f.jsx("div",{className:"text-lg text-gray-500",children:"No revenue data available"})}):f.jsx(ve,{width:"100%",height:300,children:f.jsxs(ta,{data:d,children:[f.jsx(fe,{strokeDasharray:"3 3",stroke:c?"#4B5563":"#E5E7EB"}),f.jsx(pe,{dataKey:"name",stroke:c?"#D1D5DB":"#4B5563"}),f.jsx(me,{stroke:c?"#D1D5DB":"#4B5563"}),f.jsx(he,{contentStyle:{backgroundColor:c?"#374151":"#FFFFFF",border:"none"},itemStyle:{color:c?"#FFFFFF":"#1F2937"},formatter:v=>[ie(v),"Revenue"]}),f.jsx(ge,{}),f.jsx(Ge,{dataKey:"revenue",fill:c?"#34D399":"#82ca9d"})]})})]})]})]})});export{ia as default};
